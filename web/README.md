# mailpot web server

```shell
cargo run --bin mpot-web -- /path/to/conf.toml
```

Templates are compressed with `zstd` and bundled in the binary.

## Configuration

By default, the server listens on `0.0.0.0:3000`.
The following environment variables can be defined to configure various settings:

- `HOSTNAME`, default `0.0.0.0`.
- `PORT`, default `3000`.
- `PUBLIC_URL`, default `lists.mailpot.rs`.
- `SITE_TITLE`, default `mailing list archive`.
- `SITE_SUBTITLE`, default empty.
- `ROOT_URL_PREFIX`, default empty.
- `SSH_NAMESPACE`, default `lists.mailpot.rs`.
- `SECRET`, randomly generated by default.
  Use the same value across process restarts if you want user session cookies not to expire.
  The secret must be a valid UTF-8 string that is 128 bytes long.

  You can generate one with the following command:

  ```shell
  head /dev/urandom | tr -dc A-Za-z0-9 | head -c128
  ```
